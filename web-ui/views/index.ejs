<%- include('./partials/_header.ejs') %>

<style>
  body{
    background: #ad5389;  /* fallback for old browsers */
    background: -webkit-linear-gradient(to right, #3c1053, #ad5389);  /* Chrome 10-25, Safari 5.1-6 */
    background: linear-gradient(to right, #3c1053, #ad5389); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
  }
</style>

<script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>

<div class="container my-3">
  <div class="row">
    <div class="col-md text-center card shadow p-3">
      <h1>Planificación de tareas</h1>
      <p>Aplicación web para la planificación de tareas.</p>
      <p>
        Usando algoritmos géneticos y teniendo una cantidad de tareas, una cantidad de operaciones y una cantidad de 
        máquinas, se busca la mejor forma de distribuir las tareas en las máquinas para que se realicen en el menor tiempo posible.
      </p>
    </div>
  </div>

  <!-- Configuración -->
  <div class="card px-5 py-4 my-5">
    <div class="row my-2">
      <div class="col-md text-center">
        <h2>Configuración del algoritmo</h2>
      </div>
    </div>
    <div class="row">
      <div class="col-md">
        <label for="machines" class="form-label">Cantidad de maquinas</label>
        <input type="number" id="machines" class="form-control" value="3">
        <!-- Matriz de tardanza -->
        <div class="row mt-3">
          <div class="col-md">
            <h5>Matriz de tardanza</h5>
            <table class="table-success table border-rounded" id="lateness_matrix-table">
              <thead>
                <th>Maquina</th>
                <th>Operación 1</th>
                <th>Operación 2</th>
                <th>Operación 3</th>
              </thead>
              <tbody>
                <tr>
                  <td>o1</td>
                  <td>3.5</td>
                  <td>2.5</td>
                  <td>1.5</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="col-md">
        <label for="tasks" class="form-label">Cantidad de tareas</label>
        <input type="number" id="tasks" class="form-control" value="3">
        <label for="operations">Cantidad de operaciones</label>
        <input type="number" class="form-control" value="3" id="operations-input">
        <!-- Matriz de operaciones -->
        <div class="row mt-3">
          <div class="col-md">
            <h5>Matriz de operaciones</h5>
            <table class="table-success table border-rounded" id="operations-table">
              <thead>
                <th scope="col">Tarea</th>
                <th scope="col" colspan="4" class="text-center">Operaciones</th>
              </thead>
              <tbody>
                <tr>
                  <td>J1</td>
                  <td>t1</td>
                  <td>o1</td>
                  <td>o2</td>
                  <td>o3</td>
                </tr>
                <tr>
                  <td>J2</td>
                  <td>t2</td>
                  <td>o4</td>
                  <td>o5</td>
                  <td>o6</td>
                </tr>
              </tbody>
            </table>
          </div>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-md">
        <button class="btn btn-primary" id="generateData-btn">Generar datos</button>
        <a href="/" class="btn btn-outline-danger">Reiniciar</a>
      </div>
    </div>
  </div>
  </div>


  <!-- Génetico -->
  <div class="card px-5 py-4 my-5">
    <div class="row">
      <div class="col-md text-center">
        <h2>Algoritmo génetico</h2>
      </div>
    </div>
    <div class="row my-2">
      <div class="col-md">
        <label for="population">Tamaño de la población</label>
        <input type="number" class="form-control" id="population" value="100">
      </div>
      <div class="col-md">
        <label for="generations">Cantidad de generaciones</label>
        <input type="number" class="form-control" id="generations" value="100">
      </div>
    </div>
    <div class="row">
      <div class="col-md">
        <textarea name="" id="result" cols="30" rows="10" class="form-control"></textarea>
        <button class="btn btn-success my-3" id="start-btn">Iniciar calculos</button>
      </div>
    </div>
  </div>


  <!-- Grafica del horario -->
  <div class="card px-5 py-4 my-5">
    <div class="row">
      <div class="col-md text-center">
        <h2>Horario</h2>
        <textarea name="" id="actual_matrix" cols="30" rows="5" class="form-control"></textarea>
      </div>
    </div>
    <div class="row">
      <div class="col-md">
        <div id="">
          <table id="chart" class="table table-bordered my-2"></table>
        </div>
        <button class="btn btn-outline-success my-3" id="generateGraph-btn">Generar gráfico</button>
      </div>
    </div>
</div>

  <!-- Generamos reporte de tiempos -->
  <div class="card px-5 py-4 my-5">
    <div class="row">
      <div class="col-md text-center">
        <h2>Reporte de tiempos</h2>
      </div>
    </div>
    <div class="row">
      <div class="col-md">
        <table class="table table-bordered">
          <thead>
            <th>Maquina</th>
            <th>Operacion</th>
            <th>Tardanza</th>
            <th>Tiempo inicial</th>
            <th>Tiempo final</th>
          </thead>
          <tbody id="times-table">
            <tr>
              <td>Maquina 1</td>
              <td>10</td>
              <td>20</td>
              <td>30</td>
            </tr>
          </tbody>
        </table>
        <button class="btn btn-outline-success my-3" id="generateTimes-btn">Generar reporte</button>
      </div>
    </div>
<script src="/js/principal.js"></script>
<%- include('./partials/_footer.ejs') %>